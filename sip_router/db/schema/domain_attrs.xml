<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE table PUBLIC "-//iptel.org//DTD DBSchema V1.0//EN"
  "http://iptel.org/dbschema/dtd/1.0/dbschema.dtd" [

<!ENTITY % entities SYSTEM "entities.xml">
%entities;

]>

<table xmlns:my="http://iptel.org/dbschema/mysql">
    <name>domain_attrs</name>
    <version>1</version>
    <description>
	Each domain can have several attribute-value pairs assigned. They are
	used to store additional information about the domain, such as digest
	realm to be used when challenging users, language settings for the
	domain, time zone, and so on. The AVPs (attribute-value pairs) are
	stored in this table.
    </description>

    <column id="domain_attrs.did">
	<name>did</name>
	<type>string</type>
	<size>&id_len;</size>
	<null/>
	<description>
	    Unique identifier of the domain.
	</description>
    </column>

    <column id="domain_attrs.name">
	<name>name</name>
	<type>string</type>
	<size>&avp_name_len;</size>
	<description>
	    Name of the attribute.
	</description>
    </column>

    <column>
	<name>type</name>
	<type>int</type>
	<default>0</default>
    </column>

    <column id="domain_attrs.value">
	<name>value</name>
	<type>string</type>
	<null/>
	<size>&avp_val_len;</size>
	<description>
	    Value of the attribute.
	</description>
    </column>

    <column id="domain_attrs.flags">
	<name>flags</name>
	<type>unsigned  int</type>
	<default>0</default>
	<description>
	    Various flags (SER_LOAD and such).
	</description>
    </column>

    <index>
	<name>domain_attr_idx</name>
	<unique/>
	<colref linkend="domain_attrs.did"/>
	<colref linkend="domain_attrs.name"/>
	<colref linkend="domain_attrs.value"/>
    </index>

    <index>
	<name>domain_did</name>
	<colref linkend="domain_attrs.did"/>
	<colref linkend="domain_attrs.flags"/>
    </index>

</table>
